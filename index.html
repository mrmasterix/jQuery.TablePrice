<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>jQuery Table Price examples</title>
<!--[if IE]><script src="js/html5.js"></script><![endif]-->
<meta id="Viewport" name="viewport" content="width=device-width, target-densitydpi=device-dpi, user-scalable=yes, initial-scale=1.0, maximum-scale=1.0, minimum-scale=0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">

<!-- favicon -->
<link href='http://fonts.googleapis.com/css?family=Roboto:400,100,500&subset=latin,cyrillic-ext' rel='stylesheet' type='text/css'>

<!-- document stylesheet files -->
<link href="css/all.css" rel="stylesheet" media="screen">
<link href="css/theme-code.css" rel="stylesheet" media="screen">

<!-- jQuery scripts -->
<script src="js/jquery-1.8.2.min.js"></script>
<script src="js/jquery-ui-1.9.0.custom.min.js"></script>
<script src="lib/tablePrice.min.js"></script>
<script src="js/rainbow-custom.min.js"></script>
<script src="js/functions.js"></script>
</head>
<body>
<!-- wrapper -->
<div class="wrapper">
	<!-- content -->
	<div class="content">
	
		<div class="max-wrap">
			<h1>jQuery tablePrice.js<span>- примеры использования</span> <span class="v">v1.0</span></h1>
     
     <div class="back">
     	<<a href="">Назад на страницу плагина</a>
     </div>
			
      <div class="notes">Если вы не нашли какой-либо пример, который Вам бы подошел, пишите в комментариях <a href="http://jsjq.ru/plagin-podscheta-stoimosti-tovarov-v-korzine-jquery-tableprice/">страницы плагина</a>.  <br/>Постараемся реализовать!</div>
      
      <ol class="examples-menu">
        <li><a href="#ex1">Пример простого использования</a></li>
        <li><a href="#ex2">Дробные числа</a></li>
        <li><a href="#ex3">Дробные числа из дата атрибута и копейки в отдельном блоке</a></li>
        <li><a href="#ex4">Дробные числа из дата атрибута с другим разделителем</a></li>
        <li><a href="#ex5">Пример с использованием jQueryUI Spinner</a></li>
        <li><a href="#ex6">Пример вынесения общей стоимости товара в отдельный блок</a></li>
        <li><a href="#ex7">Пример для одного товара (можно использовать в карточке товара)</a></li>
      </ol>
      
			<div class="example" id="ex1">
				<h2>Пример простого использования</h2>
				
				<div class="clearfix">
					<div class="table-holder">
						<table id="table1">
							<thead>
								<tr>
									<td>Товар</td>
									<td>Цена за единицу товара</td>
									<td>Кол-во товара</td>
									<td>Сумма</td>
									<td>Удалить из корзины</td>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Товар №1</td>
									<td class="def-holder"><span class="def-price">123</span> $</td>
									<td><input type="text" class="spinner" value="1"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №2</td>
									<td class="def-holder"><span class="def-price">58</span> $</td>
									<td><input type="text" class="spinner" value="2"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №3</td>
									<td class="def-holder"><span class="def-price">567</span> $</td>
									<td><input type="text" class="spinner" value="5"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №4</td>
									<td class="def-holder"><span class="def-price">65</span> $</td>
									<td><input type="text" class="spinner" value="3"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
							</tbody>
						</table>
						<div id="total-cost" class="total">Стоимость заказа <span></span> $</div>
					</div>
					<div class="code-table">
						<div class="title">jQuery код для таблицы</div>
						<pre>
							<code data-language="javascript">var table = $('#table1').tablePrice({
  space: true,
  initCost: '.def-price',
  amount: '.product-summ',
  totalSelector: '#total-cost span',
  deleteSelector: 'delete-product'
});</code>
						</pre>
					</div>
				</div>
				
			</div>
			
			<div class="example" id="ex2">
				<h2>Дробные числа</h2>
				<div class="clearfix">
				<div class="table-holder">
					<table id="table2">
						<thead>
							<tr>
								<td>Товар</td>
								<td>Цена за единицу товара</td>
								<td>Кол-во товара</td>
								<td>Сумма</td>
								<td>Удалить из корзины</td>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>Товар №1</td>
								<td class="def-holder"><span class="def-price">123.12</span> $</td>
								<td><input type="text" class="spinner" value="1"/></td>
								<td class="amount-holder"><span class="product-summ"></span> $</td>
								<td><a href="" class="delete-product">Удалить продукт</a></td>
							</tr>
							<tr>
								<td>Товар №2</td>
								<td class="def-holder"><span class="def-price">58.21</span> $</td>
								<td><input type="text" class="spinner" value="2"/></td>
								<td class="amount-holder"><span class="product-summ"></span> $</td>
								<td><a href="" class="delete-product">Удалить продукт</a></td>
							</tr>
							<tr>
								<td>Товар №3</td>
								<td class="def-holder"><span class="def-price">567.55</span> $</td>
								<td><input type="text" class="spinner" value="5"/></td>
								<td class="amount-holder"><span class="product-summ"></span> $</td>
								<td><a href="" class="delete-product">Удалить продукт</a></td>
							</tr>
							<tr>
								<td>Товар №4</td>
								<td class="def-holder"><span class="def-price">65.90</span> $</td>
								<td><input type="text" class="spinner" value="3"/></td>
								<td class="amount-holder"><span class="product-summ"></span> $</td>
								<td><a href="" class="delete-product">Удалить продукт</a></td>
							</tr>
						</tbody>
					</table>
					<div id="total-cost2" class="total">Стоимость заказа <span></span> $</div>
				</div>
				<div class="code-table">
						<div class="title">jQuery код для таблицы</div>
						<pre>
							<code data-language="javascript">var table2 = $('#table2').tablePrice({
  space: true,
  type: 'float',
  initCost: '.def-price',
  amount: '.product-summ',
  totalSelector: '#total-cost2 span',
  deleteSelector: 'delete-product'
});</code>
						</pre>
					</div>
					</div>
			</div>
			
			<div class="example" id="ex3">
				<h2>Дробные числа из дата атрибута и копейки в отдельном блоке</h2>
				
				<div class="clearfix">
					<div class="table-holder">
						<table id="table3">
							<thead>
								<tr>
									<td>Товар</td>
									<td>Цена за единицу товара</td>
									<td>Кол-во товара</td>
									<td>Сумма</td>
									<td>Удалить из корзины</td>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Товар №1</td>
									<td class="def-holder"><span class="def-price" data-defprice="123.12">123</span> $ <em>12</em> центов</td>
									<td><input type="text" class="spinner" value="1"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $ <i></i> центов</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №2</td>
									<td class="def-holder"><span class="def-price" data-defprice="85.84">123</span> $ <em>84</em> центов</td>
									<td><input type="text" class="spinner" value="5"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $ <i></i> центов</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №3</td>
									<td class="def-holder"><span class="def-price" data-defprice="558.60">123</span> $ <em>60</em> центов</td>
									<td><input type="text" class="spinner" value="2"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $ <i></i> центов</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №4</td>
									<td class="def-holder"><span class="def-price" data-defprice="13.70">123</span> $ <em>70</em> центов</td>
									<td><input type="text" class="spinner" value="7"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $ <i></i> центов</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
							</tbody>
						</table>
						<div id="total-cost3" class="total">Стоимость заказа <span></span> $ <i></i> центов</div>
					</div>
					<div class="code-table">
						<div class="title">jQuery код для таблицы</div>
						<pre>
							<code data-language="javascript">var table3 = $('#table3').tablePrice({
  space: true,
  type: 'float',
  initCost: '.def-price',
  dataAttr: 'defprice',
  amount: '.product-summ',
  pennySelector: 'i',
  totalPenny: 'i',
  totalSelector: '#total-cost3 span',
  deleteSelector: 'delete-product'
});</code>
						</pre>
					</div>
				</div>
				
			</div>
			
			<div class="example" id="ex4">
				<h2>Дробные числа из дата атрибута с другим разделителем</h2>
				
				<div class="clearfix">
					<div class="table-holder">
						<table id="table4">
							<thead>
								<tr>
									<td>Товар</td>
									<td>Цена за единицу товара</td>
									<td>Кол-во товара</td>
									<td>Сумма</td>
									<td>Удалить из корзины</td>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Товар №1</td>
									<td class="def-holder"><span class="def-price" data-defprice="123,12">123,12</span> usd</td>
									<td><input type="text" class="spinner" value="6"/></td>
									<td class="amount-holder"><span class="product-summ"></span> usd</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №2</td>
									<td class="def-holder"><span class="def-price" data-defprice="85,84">85,84</span> usd</td>
									<td><input type="text" class="spinner" value="2"/></td>
									<td class="amount-holder"><span class="product-summ"></span> usd</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №3</td>
									<td class="def-holder"><span class="def-price" data-defprice="558,60">558,60</span> usd</td>
									<td><input type="text" class="spinner" value="9"/></td>
									<td class="amount-holder"><span class="product-summ"></span> usd</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №4</td>
									<td class="def-holder"><span class="def-price" data-defprice="13,70">13,70</span> usd</td>
									<td><input type="text" class="spinner" value="3"/></td>
									<td class="amount-holder"><span class="product-summ"></span> usd</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
							</tbody>
						</table>
						<div id="total-cost4" class="total">Стоимость заказа <span></span> usd</div>
					</div>
					<div class="code-table">
						<div class="title">jQuery код для таблицы</div>
						<pre>
							<code data-language="javascript">vvar table4 = $('#table4').tablePrice({
  space: true,
  type: 'float',
  initCost: '.def-price',
  dataAttr: 'defprice',
  devider: ',',
  amount: '.product-summ',
  totalSelector: '#total-cost4 span',
  deleteSelector: 'delete-product'
});</code>
						</pre>
					</div>
				</div>
				
			</div>
						
			<div class="example" id="ex5">
				<h2>Пример с использованием jQueryUI Spinner</h2>
				
				<div class="clearfix">
					<div class="table-holder">
						<table id="table5">
							<thead>
								<tr>
									<td>Товар</td>
									<td>Цена за единицу товара</td>
									<td>Кол-во товара</td>
									<td>Сумма</td>
									<td>Удалить из корзины</td>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Товар №1</td>
									<td class="def-holder"><span class="def-price">123</span> $</td>
									<td><input type="text" class="spinner" value="1"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №2</td>
									<td class="def-holder"><span class="def-price">58</span> $</td>
									<td><input type="text" class="spinner" value="2"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №3</td>
									<td class="def-holder"><span class="def-price">567</span> $</td>
									<td><input type="text" class="spinner" value="5"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №4</td>
									<td class="def-holder"><span class="def-price">65</span> $</td>
									<td><input type="text" class="spinner" value="3"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
							</tbody>
						</table>
						<div id="total-cost5" class="total">Стоимость заказа <span></span> $</div>
					</div>
					<div class="code-table">
						<div class="title">jQuery код для таблицы</div>
						<pre>
							<code data-language="javascript">var table5 = $('#table5').tablePrice({
  space: true,
  initCost: '.def-price',
  amount: '.product-summ',
  totalSelector: '#total-cost5 span',
  deleteSelector: 'delete-product'
});

$('#table5 .spinner').spinner({
 spin: function(event, ui){
  setTimeout(function(){
   table5.update();
  }, 2);
 },
 min: 1
});</code>
						</pre>
					</div>
				</div>
				
			</div>
			
			<div class="example fullwidth" id="ex6">
				<h2>Пример вынесения общей стоимости товара в отдельный блок</h2>
				
				<div class="clearfix">
					<div class="table-holder">
						<table id="table6">
							<thead>
								<tr>
									<td>Товар</td>
									<td>Цена за единицу товара</td>
									<td>Кол-во товара</td>
									<td>Сумма</td>
									<td>Удалить из корзины</td>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>Товар №1</td>
									<td class="def-holder"><span class="def-price">123</span> $</td>
									<td><input type="text" class="spinner" value="1"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №2</td>
									<td class="def-holder"><span class="def-price">58</span> $</td>
									<td><input type="text" class="spinner" value="2"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №3</td>
									<td class="def-holder"><span class="def-price">567</span> $</td>
									<td><input type="text" class="spinner" value="5"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
								<tr>
									<td>Товар №4</td>
									<td class="def-holder"><span class="def-price">65</span> $</td>
									<td><input type="text" class="spinner" value="3"/></td>
									<td class="amount-holder"><span class="product-summ"></span> $</td>
									<td><a href="" class="delete-product">Удалить продукт</a></td>
								</tr>
							</tbody>
						</table>
						<div id="total-cost6" class="total">Стоимость заказа <span></span> $</div>
						<div id="total-cost6-ather" class="total">Ваш заказ стоит - <span></span> $</div>
						<div id="total-cost6-deliver" class="total">Стоимость заказа с доставкой (15$) - <span></span> $</div>
						<div id="total-cost6-deliver-bonus" class="total">Стоимость заказа с доставкой и Вашей скидкой 3% - <span></span> $</div>
					</div>
					<div class="code-table">
						<div class="title">jQuery код для таблицы</div>
						<pre>
							<code data-language="javascript">var table6 = $('#table6').tablePrice({
  space: true,
  initCost: '.def-price',
  amount: '.product-summ',
  totalSelector: '#total-cost6 span',
  deleteSelector: 'delete-product',
  afterChange: countAllTotals
});

function countAllTotals(){
  var totalPrice = table6.getTotalPrice();
  var withDelivery = totalPrice + 15;
  var discount = parseInt(withDelivery*0.03);
  var withDiscount = withDelivery-discount;
  $('#total-cost6-ather span').html(totalPrice);
  $('#total-cost6-deliver span').html(withDelivery);
  $('#total-cost6-deliver-bonus span').html(withDiscount);
}
countAllTotals();</code>
						</pre>
					</div>
				</div>
				
			</div>
			
			<div class="example fullwidth" id="ex7">
				<h2>Пример для одного товара (можно использовать в карточке товара)</h2>
				
				<div class="clearfix">
					<div class="table-holder product-holder">
						<div class="product">
							<figure></figure>
							<div class="info">
								<h3>Название товара</h3>
								<div class="weight">
									<div class="title">Вес товара</div>
									<div class="checkbox"><label><input type="radio" name="product_weight" checked data-weight-cost="400"/>10 кг.</label></div>
									<div class="checkbox"><label><input type="radio" name="product_weight" data-weight-cost="750"/>20 кг.</label></div>
									<div class="checkbox"><label><input type="radio" name="product_weight" data-weight-cost="1100"/>30 кг.</label></div>
									<div class="checkbox"><label><input type="radio" name="product_weight" data-weight-cost="14500"/>40 кг.</label></div>
								</div>
								<div class="fastnums">
									<div class="title">Купить быстро</div>
									<div class="checkbox"><label><input type="radio" name="product_num" id="custom" />Свой выбор</label></div>
									<div class="checkbox"><label><input type="radio" name="product_num" data-weight-cost="5"/>5 штук</label></div>
									<div class="checkbox"><label><input type="radio" name="product_num" data-weight-cost="10"/>10 штук.</label></div>
									<div class="checkbox"><label><input type="radio" name="product_num" data-weight-cost="15"/>15 штук</label></div>
									<div class="checkbox"><label><input type="radio" name="product_num" data-weight-cost="20"/>20 штук</label></div>
								</div>
								<div class="product-spinner">Кол-во <input type="text" class="spinner" value="1"/></div>
								<div class="amount-cost" data-cost="400">Вся стоимость <span></span> $<em></em></div>
							</div>
						</div>
					</div>
					<div class="code-table">
						<div class="title">jQuery код для таблицы</div>
						<pre>
							<code data-language="javascript">var checkedWeight = $('[name="product_weight"]:checked').data('weight-cost');
$('.product [data-cost]').data('cost', checkedWeight);

var productTable = $('.product-holder').tablePrice({
  space: true,
  forEach: '.product',
  initCost: '.amount-cost',
  dataAttr: 'cost',
  amount: '.amount-cost em',
  totalSelector: '.amount-cost span',
  wrapTable: false,
  afterChange: function(){
    $('#custom').attr('checked', 'checked');
  }
});

$('.product .spinner').spinner({
  spin: function(event, ui){
    setTimeout(function(){
      productTable.update();
      $('#custom').attr('checked', 'checked');
    }, 2);
  },
  min: 1
});

// Вес товара и его стоимость
var radio = $('[name="product_weight"]');
if("onpropertychange" in radio) { 
  radio.on('onpropertychange', function(e){
    if (e.propertyName == "checked") {
      var newCost = $(this).data('weight-cost');
      $('.product [data-cost]').data('cost', newCost);
      productTable.update();
    }
  });
} else {
  radio.on('change', function(e){
    if ( $(this).is(':checked') ) {
      var newCost = $(this).data('weight-cost');
      $('.product [data-cost]').data('cost', newCost);
      productTable.update();
    }
  });
}

// Быстро выбрать кол-во товара
var radioNum = $('[name="product_num"]');
if("onpropertychange" in radioNum) { 
  radioNum.on('onpropertychange', function(e){
    if (e.propertyName == "checked") {
      if ( !$(this).attr('id') ){
        var newNum = $(this).data('weight-cost');
        $('.product .spinner').val(newNum);
        productTable.update();
      }
    }
  });
} else {
  radioNum.on('change', function(e){
    if ( $(this).is(':checked') ) {
      if ( !$(this).attr('id') ){
        var newNum = $(this).data('weight-cost');
        $('.product .spinner').val(newNum);
        productTable.update();
      }
    }
  });
}</code>
						</pre>
					</div>
				</div>
				
			</div>
			
      <div class="notes">Если вы не нашли какой-либо пример, который Вам бы подошел, пишите в комментариях <a href="http://jsjq.ru/plagin-podscheta-stoimosti-tovarov-v-korzine-jquery-tableprice/">страницы плагина</a>.  <br/>Постараемся реализовать!</div>
      
		</div>
	
	</div>
	<!-- content end -->
</div>
<!-- wrapper end -->

<div class="totop">вверх</div>

</body>
</html>